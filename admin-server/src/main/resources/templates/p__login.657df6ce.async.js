(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{A8du:function(x,p,a){"use strict";a.r(p);var k=a("XCrF"),R=a("1GRj"),ee=a("Znn+"),f=a("ZTPi"),B=a("k1fw"),ae=a("miYZ"),O=a("tsqr"),j=a("9og8"),b=a("tJVT"),F=a("WmNS"),o=a.n(F),K=a("cJ7L"),E=a("FY4R"),U=a("3flX"),d=a("q1tI"),se=a.n(d),y=a("VMEa"),h=a("Qurx"),C=a("/aGu"),s=a("9kvl"),N=a("55Ip"),S=a("CwrG"),M=a("Lr6j"),z=a("ITvK"),t=a.n(z),g=a("2AxG"),G=a("I5X1"),e=a("nKUr"),te=a.n(e),J=function(){if(!!s.c){var P=s.c.location.query,D=P,v=D.redirect;s.c.push(v||"/")}},$=function(){var P=Object(G.a)("@@initialState"),D=P.refresh,v=Object(d.useState)(!1),I=Object(b.a)(v,2),V=I[0],T=I[1],X=Object(d.useState)("account"),A=Object(b.a)(X,2),m=A[0],Z=A[1],H=Object(d.useState)(""),W=Object(b.a)(H,2),Y=W[0],w=W[1],c=Object(s.h)(),L=Object(d.useCallback)(Object(j.a)(o.a.mark(function i(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Object(M.a)({deviceId:Object(g.b)()}).then(function(l){l&&l.success&&w("data:image/jpeg;base64,".concat(l.imageCode))}).catch(function(l){O.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u5931\u8D25:".concat(l))});case 1:case"end":return n.stop()}},i)})),[]);Object(d.useEffect)(function(){m==="account"&&L().then()},[]);var q=function(){var i=Object(j.a)(o.a.mark(function _(n){return o.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:T(!0),Object(M.c)(Object(B.a)(Object(B.a)({},n),{},{type:m,deviceId:Object(g.b)()})).then(function(r){r&&(Object(g.d)(r.accessToken),Object(g.e)(r.refreshToken),O.default.success("\u767B\u5F55\u6210\u529F\uFF01"),J(),D().then())}).catch(function(r){O.default.success("\u767B\u5F55\u5931\u8D25:".concat(r))}),T(!1);case 3:case"end":return u.stop()}},_)}));return function(n){return i.apply(this,arguments)}}();return Object(e.jsxs)("div",{className:t.a.container,children:[Object(e.jsx)("div",{className:t.a.lang,"data-lang":!0,children:s.b&&Object(e.jsx)(s.b,{})}),Object(e.jsxs)("div",{className:t.a.content,children:[Object(e.jsxs)("div",{className:t.a.top,children:[Object(e.jsx)("div",{className:t.a.header,children:Object(e.jsxs)(N.a,{to:"/",children:[Object(e.jsx)("img",{alt:"logo",className:t.a.logo,src:"/logo.svg"}),Object(e.jsx)("span",{className:t.a.title,children:"Ant Design"})]})}),Object(e.jsx)("div",{className:t.a.desc,children:c.formatMessage({id:"pages.layouts.userLayout.title"})})]}),Object(e.jsx)("div",{className:t.a.main,children:Object(e.jsxs)(y.b,{submitter:{searchConfig:{submitText:c.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(_,n){return n.pop()},submitButtonProps:{loading:V,size:"large",style:{width:"100%"}}},onFinish:function(){var i=Object(j.a)(o.a.mark(function _(n){return o.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:q(n).then();case 1:case"end":return u.stop()}},_)}));return function(_){return i.apply(this,arguments)}}(),children:[Object(e.jsxs)(f.a,{activeKey:m,onChange:Z,children:[Object(e.jsx)(f.a.TabPane,{tab:c.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(f.a.TabPane,{tab:c.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),m==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:t.a.prefixIcon})},placeholder:c.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(h.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:t.a.prefixIcon})},placeholder:c.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),Object(e.jsx)(C.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:t.a.prefixIcon})},captchaProps:{size:"large"},placeholder:c.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(){return Object(e.jsx)("div",{style:{width:"100px",height:"100%"},children:Object(e.jsx)(R.a,{preview:!1,src:Y,onClick:L})})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}]})]}),m==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(U.a,{className:t.a.prefixIcon})},name:"mobile",placeholder:c.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(C.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:t.a.prefixIcon})},captchaProps:{size:"large"},placeholder:c.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(_,n){return _?"".concat(n," ").concat(c.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):c.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],phoneName:"mobile",onGetCaptcha:function(){var i=Object(j.a)(o.a.mark(function _(n){var l;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(M.b)({mobile:n,deviceId:Object(g.b)()});case 2:if(l=r.sent,l!==!1){r.next=5;break}return r.abrupt("return");case 5:O.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return r.stop()}},_)}));return function(_){return i.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24,height:8},children:[Object(e.jsx)("a",{style:{float:"left"},children:Object(e.jsx)(s.a,{id:"pages.login.register",defaultMessage:"\u7ACB\u5373\u6CE8\u518C"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]}),Object(e.jsx)(S.a,{})]})};p.default=$},ITvK:function(x,p,a){x.exports={container:"container___24lE3",lang:"lang___WB6JP",content:"content___1Bpdt",top:"top___3PP_o",header:"header___2BRxU",logo:"logo___3tfTW",title:"title___3F8Ha",desc:"desc___1EoQk",main:"main___3SGNE",icon:"icon___2tsIa",other:"other___1Hu97",register:"register___2uQ_K",prefixIcon:"prefixIcon___1AW-f"}}}]);
